#include "wool.h"
#include "fib.c"
#include "wool-core-extras.c"

// Regular functional tests.
#test wool1
    ck_assert_msg( CALL( pfib, 8 ) == 21, "pfib(8) returned the wrong answer");

// Testing __self and __dq_top persistence.
#test wool2
    ck_assert_msg( CALL( pfib2, 8 ) == 21, "pfib2(8) returned the wrong answer");

#main-pre
    wool_init(0, NULL);

#main-post
    wool_fini();
    return nf == 0 ? 0 : 1;